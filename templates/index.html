<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TinySQL Dashboard</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Forum&display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"
    />

    <link rel="stylesheet" href="../static/style.css" />
  </head>

  <body class="light-mode">
    <button
      class="theme-toggle"
      onclick="toggleTheme()"
      aria-label="Toggle theme"
    >
      <i class="bi bi-moon-fill"></i>
    </button>

    <div class="main-container">
      <div class="dashboard-header">
        <h1 class="dashboard-title">TinySQL Dashboard</h1>
        <p class="dashboard-subtitle">
          Execute SQL queries with style and precision
        </p>

        <!-- Tab Navigation -->
        <div class="tab-navigation">
          <div class="tab-container">
            <button
              class="tab-button active"
              onclick="switchTab('sql')"
              data-tab="sql"
            >
              <i class="bi bi-code-slash"></i>
              SQL Query
            </button>
            <button
              class="tab-button"
              onclick="switchTab('chat')"
              data-tab="chat"
            >
              <i class="bi bi-chat-dots"></i>
              Chat to Database
            </button>
          </div>
        </div>
      </div>

      <!-- SQL Query Section -->
      <div id="sql-section" class="content-section active">
        <div class="query-card">
          <form id="query-form">
            <div class="mb-4">
              <label for="query" class="form-label">
                <i class="bi bi-code-slash"></i>
                SQL Query
              </label>
              <textarea
                class="form-control query-textarea"
                id="query"
                name="query"
                placeholder="-- Enter your SQL query here"
              ></textarea>
            </div>

            <div class="example-queries">
              <small class="text-muted d-block mb-2">
                <i class="bi bi-lightbulb"></i> Quick examples:
              </small>
              <div
                class="example-query"
                onclick="setQuery('SELECT * FROM PERSONS;')"
              >
                SELECT * FROM PERSONS;
              </div>
              <div
                class="example-query"
                onclick="setQuery('SELECT FIRSTNAME,LASTNAME FROM PERSONS;')"
              >
                SELECT FIRSTNAME,LASTNAME FROM persons;
              </div>
              <div
                class="example-query"
                onclick="setQuery('SELECT CITY FROM PERSONS WHERE PERSONID=1;')"
              >
                SELECT CITY FROM PERSONS WHERE PERSONID=1;
              </div>
            </div>

            <button type="submit" class="execute-btn mt-3">
              <i class="bi bi-play-fill"></i>
              <span class="btn-text">Execute Query</span>
              <div class="loading-spinner"></div>
            </button>
          </form>
        </div>

        <div class="output-card">
          <div class="output-header">
            <i class="bi bi-terminal"></i>
            Query Results
          </div>
          <div id="output" class="output-content empty">
            <i class="bi bi-arrow-up"></i>
            Execute a query to see results here
          </div>
        </div>
      </div>

      <!-- Chat to Database Section -->
      <div id="chat-section" class="content-section">
        <div class="chat-card">
          <form id="chat-form">
            <div class="mb-3">
              <label for="chat-input" class="form-label">
                <i class="bi bi-chat-text"></i>
                Ask and Update Your Database
              </label>
              <textarea
                class="form-control chat-input"
                id="chat-input"
                name="message"
                placeholder="Tell me what u want to see......"
              ></textarea>
            </div>

            <div class="example-prompts">
              <small class="text-muted d-block mb-2">
                <i class="bi bi-lightbulb"></i> Try asking:
              </small>
              <div
                class="example-prompt"
                onclick="setChatMessage('Show all persons.')"
              >
                Show all persons.
              </div>
              <div
                class="example-prompt"
                onclick="setChatMessage('Display firstname, lastname from persons.')"
              >
                Display firstname, lastname from persons.
              </div>
              <div
                class="example-prompt"
                onclick="setChatMessage('Show city of persons where PERSONID equals 1.')"
              >
                Show city of persons whose personid equals 1.
              </div>
            </div>

            <button type="submit" class="send-btn mt-3">
              <i class="bi bi-send"></i>
              <span class="chat-btn-text">Send Query</span>
              <div class="loading-spinner"></div>
            </button>
          </form>
        </div>

        <div class="chat-results-card">
          <div class="chat-results-header">
            <i class="bi bi-table"></i>
            Query Results
          </div>
          <div id="chat-results" class="chat-results-content empty">
            <i class="bi bi-arrow-up"></i>
            Ask a question to see results here
          </div>
        </div>
      </div>
    </div>

    <script src="../static/script.js"></script>
    <script src="../static/chat.js"></script>
  </body>
</html>
